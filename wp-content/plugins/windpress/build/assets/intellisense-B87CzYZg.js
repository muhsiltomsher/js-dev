import{g as D}from"./index-D2oXBU75.min.js";import{r as G}from"./index-BkiRcEwW.min.js";const g=48,m=57;function x(t,e){let r=t.length,n=e.length,l=r<n?r:n;for(let a=0;a<l;a++){let i=t.charCodeAt(a),o=e.charCodeAt(a);if(i>=g&&i<=m&&o>=g&&o<=m){let s=a,u=a+1,f=a,c=a+1;for(i=t.charCodeAt(u);i>=g&&i<=m;)i=t.charCodeAt(++u);for(o=e.charCodeAt(c);o>=g&&o<=m;)o=e.charCodeAt(++c);let h=t.slice(s,u),d=e.slice(f,c),p=Number(h)-Number(d);if(p)return p;if(h<d)return-1;if(h>d)return 1;continue}if(i!==o)return i-o}return t.length-e.length}class A extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e,this),this.set(e,r)),r}}const E=92,H=123,W=125,J=40,N=41,K=91,T=93,P=34,Q=39,k=new Uint8Array(256);function X(t,e){let r=0,n=[],l=0,a=t.length,i=e.charCodeAt(0);for(let o=0;o<a;o++){let s=t.charCodeAt(o);if(r===0&&s===i){n.push(t.slice(l,o)),l=o+1;continue}switch(s){case E:o+=1;break;case Q:case P:for(;++o<a;){let u=t.charCodeAt(o);if(u===E){o+=1;continue}if(u===s)break}break;case J:k[r]=N,r++;break;case K:k[r]=T,r++;break;case H:k[r]=W,r++;break;case T:case W:case N:r>0&&s===k[r-1]&&r--;break}}return n.push(t.slice(l)),n}function y(t){return{kind:"word",value:t}}function Y(t,e){return{kind:"function",value:t,nodes:e}}function Z(t){return{kind:"separator",value:t}}function w(t,e,r=null){for(let n=0;n<t.length;n++){let l=t[n],a=!1,i=0,o=e(l,{parent:r,replaceWith(s){a||(a=!0,Array.isArray(s)?s.length===0?(t.splice(n,1),i=0):s.length===1?(t[n]=s[0],i=1):(t.splice(n,1,...s),i=s.length):t[n]=s)}})??0;if(a){o===0?n--:n+=i-1;continue}if(o===2||o!==1&&l.kind==="function"&&w(l.nodes,e,l)===2)return 2}}function b(t){let e="";for(const r of t)switch(r.kind){case"word":case"separator":{e+=r.value;break}case"function":e+=r.value+"("+b(r.nodes)+")"}return e}const S=92,ee=41,I=58,_=44,te=34,j=61,M=62,O=60,V=10,re=40,ne=39,q=47,F=32,U=9;function C(t){t=t.replaceAll(`\r
`,`
`);let e=[],r=[],n=null,l="",a;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);switch(o){case S:{l+=t[i]+t[i+1],i++;break}case I:case _:case j:case M:case O:case V:case q:case F:case U:{if(l.length>0){let c=y(l);n?n.nodes.push(c):e.push(c),l=""}let s=i,u=i+1;for(;u<t.length&&(a=t.charCodeAt(u),!(a!==I&&a!==_&&a!==j&&a!==M&&a!==O&&a!==V&&a!==q&&a!==F&&a!==U));u++);i=u-1;let f=Z(t.slice(s,u));n?n.nodes.push(f):e.push(f);break}case ne:case te:{let s=i;for(let u=i+1;u<t.length;u++)if(a=t.charCodeAt(u),a===S)u+=1;else if(a===o){i=u;break}l+=t.slice(s,i+1);break}case re:{let s=Y(l,[]);l="",n?n.nodes.push(s):e.push(s),r.push(s),n=s;break}case ee:{let s=r.pop();if(l.length>0){let u=y(l);s==null||s.nodes.push(u),l=""}r.length>0?n=r[r.length-1]:n=null;break}default:l+=String.fromCharCode(o)}}return l.length>0&&e.push(y(l)),e}function ae(t,e){if(e===null)return t;let r=Number(e);return Number.isNaN(r)||(e=`${r*100}%`),e==="100%"?t:`color-mix(in oklab, ${t} ${e}, transparent)`}const le={"--alpha":ie,"--spacing":oe,"--theme":se,theme:ue};function ie(t,e,r,...n){let[l,a]=X(r,"/").map(i=>i.trim());if(!l||!a)throw new Error(`The --alpha(\u2026) function requires a color and an alpha value, e.g.: \`--alpha(${l||"var(--my-color)"} / ${a||"50%"})\``);if(n.length>0)throw new Error(`The --alpha(\u2026) function only accepts one argument, e.g.: \`--alpha(${l||"var(--my-color)"} / ${a||"50%"})\``);return ae(l,a)}function oe(t,e,r,...n){if(!r)throw new Error("The --spacing(\u2026) function requires an argument, but received none.");if(n.length>0)throw new Error(`The --spacing(\u2026) function only accepts a single argument, but received ${n.length+1}.`);let l=t.theme.resolve(null,["--spacing"]);if(!l)throw new Error("The --spacing(\u2026) function requires that the `--spacing` theme variable exists, but it was not found.");return`calc(${l} * ${r})`}function se(t,e,r,...n){if(!r.startsWith("--"))throw new Error("The --theme(\u2026) function can only be used with CSS variables from your theme.");let l=!1;r.endsWith(" inline")&&(l=!0,r=r.slice(0,-7)),e.kind==="at-rule"&&(l=!0);let a=t.resolveThemeValue(r,l);if(!a){if(n.length>0)return n.join(", ");throw new Error(`Could not resolve value for theme function: \`theme(${r})\`. Consider checking if the variable name is correct or provide a fallback value to silence this error.`)}if(n.length===0)return a;let i=n.join(", ");if(i==="initial")return a;if(a==="initial")return i;if(a.startsWith("var(")||a.startsWith("theme(")||a.startsWith("--theme(")){let o=C(a);return fe(o,i),b(o)}return a}function ue(t,e,r,...n){r=ce(r);let l=t.resolveThemeValue(r);if(!l&&n.length>0)return n.join(", ");if(!l)throw new Error(`Could not resolve value for theme function: \`theme(${r})\`. Consider checking if the path is correct or provide a fallback value to silence this error.`);return l}new RegExp(Object.keys(le).map(t=>`${t}\\(`).join("|"));function ce(t){if(t[0]!=="'"&&t[0]!=='"')return t;let e="",r=t[0];for(let n=1;n<t.length-1;n++){let l=t[n],a=t[n+1];l==="\\"&&(a===r||a==="\\")?(e+=a,n++):e+=l}return e}function fe(t,e){w(t,r=>{if(r.kind==="function"&&!(r.value!=="var"&&r.value!=="theme"&&r.value!=="--theme"))if(r.nodes.length===1)r.nodes.push({kind:"word",value:`, ${e}`});else{let n=r.nodes[r.nodes.length-1];n.kind==="word"&&n.value==="initial"&&(n.value=e)}})}new A(t=>{let e=C(t),r=new Set;return w(e,(n,{parent:l})=>{let a=l===null?e:l.nodes??[];if(n.kind==="word"&&(n.value==="+"||n.value==="-"||n.value==="*"||n.value==="/")){let i=a.indexOf(n)??-1;if(i===-1)return;let o=a[i-1];if((o==null?void 0:o.kind)!=="separator"||o.value!==" ")return;let s=a[i+1];if((s==null?void 0:s.kind)!=="separator"||s.value!==" ")return;r.add(o),r.add(s)}else n.kind==="separator"&&n.value.trim()==="/"?n.value="/":n.kind==="separator"&&n.value.length>0&&n.value.trim()===""?(a[0]===n||a[a.length-1]===n)&&r.add(n):n.kind==="separator"&&n.value.trim()===","&&(n.value=",")}),r.size>0&&w(e,(n,{replaceWith:l})=>{r.has(n)&&(r.delete(n),l([]))}),$(e),b(e)}),new A(t=>{let e=C(t);return e.length===3&&e[0].kind==="word"&&e[0].value==="&"&&e[1].kind==="separator"&&e[1].value===":"&&e[2].kind==="function"&&e[2].value==="is"?b(e[2].nodes):t});function $(t){for(let e of t)switch(e.kind){case"function":{if(e.value==="url"||e.value.endsWith("_url")){e.value=v(e.value);break}if(e.value==="var"||e.value.endsWith("_var")||e.value==="theme"||e.value.endsWith("_theme")){e.value=v(e.value);for(let r=0;r<e.nodes.length;r++)$([e.nodes[r]]);break}e.value=v(e.value),$(e.nodes);break}case"separator":e.value=v(e.value);break;case"word":{(e.value[0]!=="-"||e.value[1]!=="-")&&(e.value=v(e.value));break}default:he(e)}}new A(t=>{let e=C(t);return e.length===1&&e[0].kind==="function"&&e[0].value==="var"});function he(t){throw new Error(`Unexpected value: ${t}`)}function v(t){return t.replaceAll("_",String.raw`\_`).replaceAll(" ","_")}function de(t,e,{onInvalidCandidate:r}={}){let n=new Map,l=[],a=new Map;for(let o of t){if(e.invalidCandidates.has(o)){r==null||r(o);continue}let s=e.parseCandidate(o);if(s.length===0){r==null||r(o);continue}a.set(o,s)}let i=e.getVariantOrder();for(let[o,s]of a){let u=!1;for(let f of s){let c=e.compileAstNodes(f);if(c.length!==0){u=!0;for(let{node:h,propertySort:d}of c){let p=0n;for(let R of f.variants)p|=1n<<BigInt(i.get(R));n.set(h,{properties:d,variants:p,candidate:o}),l.push(h)}}}u||(r==null||r(o))}return l.sort((o,s)=>{let u=n.get(o),f=n.get(s);if(u.variants-f.variants!==0n)return Number(u.variants-f.variants);let c=0;for(;c<u.properties.order.length&&c<f.properties.order.length&&u.properties.order[c]===f.properties.order[c];)c+=1;return(u.properties.order[c]??1/0)-(f.properties.order[c]??1/0)||f.properties.count-u.properties.count||x(u.candidate,f.candidate)}),{astNodes:l,nodeSorting:n}}var pe=G();const z=D(pe);function ve(t){return t.getClassList().map(e=>({kind:"utility",selector:e[0]}))}function ge(t){return t.getVariants().map(e=>({kind:"variant",selector:e.name}))}function me(){return[{kind:"utility",selector:"flex"}]}function ke(t){return t.sort(([,e],[,r])=>e===r?0:e===null?-1:r===null?1:B(e-r)).map(([e])=>e)}function B(t){return t>0n?1:t===0n?0:-1}async function we(t){return Array.from(t.theme.entries()).map((e,r)=>{const n=e[0];let l=!1,a=null;const i=e[1].value;return typeof i=="string"&&i.includes("rem")&&(a=`${parseFloat(i)*16}px`,l=!0),{key:n,value:l?a:i,index:r}})}async function be(t,e){return ke(t.getClassOrder(e))}function L(t,e){if(!(t!=null&&t.includes("rem")))return t;const r=[];z(t).walk(l=>{if(l.type!=="word")return!0;const a=z.unit(l.value);if(!a||a.unit!=="rem"&&a.unit!=="rem;")return!1;const i=` /* ${parseFloat(a.number)*e}px */`;return r.push({content:i,sourceEndIndex:l.sourceEndIndex}),!1});let n=0;return r.forEach(l=>{t=t.slice(0,l.sourceEndIndex+n)+l.content+t.slice(l.sourceEndIndex+n),n+=l.content.length}),t}async function Ce(t,e){let r=t.candidatesToCss(e);return r=r.map(n=>n&&L(n,16)),r}function Ae(t){const e=ve(t).concat(ge(t).concat(me())),r=a=>a.selector!=="*",n=a=>{const i=de([a.selector],t).astNodes.flatMap(s=>"nodes"in s?s.nodes:[]);let o=t.candidatesToCss([a.selector]).at(0);return o&&(o=o.replaceAll(/([0-9.]+)rem/g,(s,u)=>`${parseFloat(u)*16}px`)),o=o==null?void 0:o.replaceAll(/\\/g,""),{...a,declarations:i==null?void 0:i.filter(s=>s.kind==="declaration"),css:o}},l=(a,i)=>a.selector.startsWith("-")&&!i.selector.startsWith("-")?1:!a.selector.startsWith("-")&&i.selector.startsWith("-")?-1:x(a.selector,i.selector);return e.filter(r).map(n).sort(l)}function ye(t,e){return("0".repeat(8)+t).slice(-8)}export{Ae as a,B as b,Ce as c,L as d,we as g,ye as n,be as s};
