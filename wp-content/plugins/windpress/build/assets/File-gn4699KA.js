import{L as Rt,M as Bt,N as Ye,P as ke,O as Ut,Q as Mt,R as Nt,S as Ie,D as Wt,T as Yt,U as Ht,B as He,V as Zt,W as Jt,X as Gt,Y as Se,Z as Ze,$ as Je,a0 as Ge,e as Xt,f as Xe,a1 as Te,t as _e,h as Ce,k as Y,a2 as ee,a3 as Qt,a4 as ea,a5 as Qe,a6 as ia,s as ta,a7 as aa,a8 as H,j as na,a9 as la,aa as ra,ab as sa,ac as oa,u as da,_ as ei,a as ne,c as ca,ad as ye,i as ii,ae as ua,g as pa,af as ma,__tla as va}from"./dashboard-ehjemsT6.js";import{_ as ti,b as ai,a as fa}from"./DashboardSidebarCollapse-Cvpqm1mw.min.js";import{r as ni,c as li,d as ga,e as ri,f as ha,g as _a,h as ya}from"./index-WnsJJ9SK.min.js";import{d as wa,a as ba,w as si,__tla as xa}from"./worker-4zlRb9SC.js";import{U as oi,c as di,S as Le,d as ka}from"./_initCloneObject-BhVgohw0.min.js";import{b as Ia,e as Sa,a as ci}from"./_toKey-DplO3CuX.min.js";import{S as ui,b as pi}from"./isObject-K1YoVIH1.min.js";import{m as G,ac as R,r as mi,s as Ta,X as K,a1 as S,Y as w,j as b,u as f,am as B,n as vi,V as Z,af as Ca,an as W,ae as fi,ao as Ke,_ as M,F as ie,a0 as le,aj as F,Z as z,$ as N,a3 as J,a2 as q,a6 as gi,aC as La,ak as ze,as as Ee,at as Ae,w as we,ah as Ka,ar as za,aE as Ea}from"./runtime-core.esm-bundler-B8D91691.min.js";import{w as be,d as pe}from"./runtime-dom.esm-bundler-SWbJClE-.min.js";import{p as me,__tla as Aa}from"./cssesc-Bxt4z7kp.js";import"./index-D2oXBU75.min.js";import"./index-CPcXZEQS.min.js";import{__tla as Oa}from"./index-DZy_r9vz.min.js";import{g as Va,n as Fa}from"./intellisense-B87CzYZg.js";import"./redaxios.module-D8m3meIN.min.js";import{l as Pa}from"./design-system-BJspW4yc.js";import{e as qa}from"./vfs-CGMWRCWv.js";import{n as $a}from"./index.browser-B0na17u1.min.js";import{d as hi}from"./dayjs.min-ZsM2T84D.min.js";import{_ as ve}from"./preload-helper-OxAS765g.min.js";import{c as ja,a as Da}from"./index-DiYjSvhR.min.js";import{_ as _i}from"./FormField-CL3EOd8y.min.js";import"./index-Dfl2EUB3.min.js";import"./source-map-generator-DjbDy59a.min.js";import"./chunk-HTB5LLOP-Cay67bh1.min.js";import"./floating-ui.core-BNw6frD8.min.js";import"./virtualRef-CMKwjS6I.js";import"./set-CCCCRWsb.min.js";import"./get-CeNv7Xzs.min.js";import"./package-BtTmAzXr.min.js";import"./fuse-Ch1WBRTM.min.js";import"./index-CyOAdLA-.min.js";import"./index-CgqXENQe.min.js";import"./index-BAMY2Nnw.min.js";import"./index-BkiRcEwW.min.js";import"./pre-process-CANs1e39.js";let yi,Ra=Promise.all([(()=>{try{return va}catch{}})(),(()=>{try{return xa}catch{}})(),(()=>{try{return Aa}catch{}})(),(()=>{try{return Oa}catch{}})()]).then(async()=>{const wi=G({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(e){const t=e,i=Rt(),c=Bt(),d=R(()=>t.tabStopId||c),a=R(()=>i.currentTabStopId.value===d.value),{getItems:_,CollectionItem:g}=Ye();mi(()=>{t.focusable&&i.onFocusableItemAdd()}),Ta(()=>{t.focusable&&i.onFocusableItemRemove()});function n(s){if(s.key==="Tab"&&s.shiftKey){i.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const o=Ut(s,i.orientation.value,i.dir.value);if(o!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||!t.allowShiftKey&&s.shiftKey)return;s.preventDefault();let m=[..._().map(y=>y.ref).filter(y=>y.dataset.disabled!=="")];if(o==="last")m.reverse();else if(o==="prev"||o==="next"){o==="prev"&&m.reverse();const y=m.indexOf(s.currentTarget);m=i.loop.value?Mt(m,y+1):m.slice(y+1)}vi(()=>Nt(m))}}return(s,o)=>(S(),K(f(g),null,{default:w(()=>[b(f(ke),{tabindex:a.value?0:-1,"data-orientation":f(i).orientation.value,"data-active":s.active?"":void 0,"data-disabled":s.focusable?void 0:"",as:s.as,"as-child":s.asChild,onMousedown:o[0]||(o[0]=m=>{s.focusable?f(i).onItemFocus(d.value):m.preventDefault()}),onFocus:o[1]||(o[1]=m=>f(i).onItemFocus(d.value)),onKeydown:n},{default:w(()=>[B(s.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}});function fe(e){return e.reduce((t,i)=>(t.push(i),i.children&&t.push(...fe(i.children)),t),[])}function bi(e,t){const i=Z(),c=(a,_)=>{if(t.multiple&&Array.isArray(e.value))if(t.selectionBehavior==="replace")e.value=[a],i.value=a;else{const g=e.value.findIndex(n=>_(n));g!==-1?e.value=e.value.filter((n,s)=>s!==g):e.value=[...e.value,a]}else t.selectionBehavior==="replace"?e.value={...a}:!Array.isArray(e.value)&&_(e.value)?e.value=void 0:e.value={...a};return e.value};function d(a,_,g,n){var m;if(!(i!=null&&i.value)||!t.multiple||!Array.isArray(e.value))return;const s=(m=g().filter(y=>y.ref.dataset.disabled!=="").find(y=>y.ref===_))==null?void 0:m.value;if(!s)return;let o=null;switch(a){case"prev":case"next":{o=Ie(n,i.value,s);break}case"first":{o=Ie(n,i.value,n==null?void 0:n[0]);break}case"last":{o=Ie(n,i.value,n==null?void 0:n[n.length-1]);break}}e.value=o}return{firstValue:i,onSelectItem:c,handleMultipleReplace:d}}const[xi,ki]=Wt("TreeRoot"),Ii=G({__name:"TreeRoot",props:{modelValue:{},defaultValue:{},items:{},expanded:{},defaultExpanded:{},getKey:{},getChildren:{type:Function,default:e=>e.children},selectionBehavior:{default:"toggle"},multiple:{},dir:{},disabled:{type:Boolean},propagateSelect:{type:Boolean},bubbleSelect:{type:Boolean},asChild:{type:Boolean},as:{default:"ul"}},emits:["update:modelValue","update:expanded"],setup(e,{emit:t}){const i=e,c=t,{items:d,multiple:a,disabled:_,propagateSelect:g,dir:n,bubbleSelect:s}=Ca(i),{handleTypeaheadSearch:o}=Yt(),m=Ht(n),y=Z(),x=Z(!1),h=Zt(),I=He(i,"modelValue",c,{defaultValue:i.defaultValue??(a.value?[]:void 0),passive:i.modelValue===void 0,deep:!0}),l=He(i,"expanded",c,{defaultValue:i.defaultExpanded??[],passive:i.expanded===void 0,deep:!0}),{onSelectItem:r,handleMultipleReplace:v}=bi(I,i),u=R(()=>a.value&&Array.isArray(I.value)?I.value.map(k=>i.getKey(k)):[i.getKey(I.value??{})]);function p(k,T=1,A){return k.reduce((O,E,P)=>{const $=i.getKey(E),D=i.getChildren(E),Q=l.value.includes($),te={_id:$,value:E,index:P,level:T,parentItem:A,hasChildren:!!D,bind:{value:E,level:T,"aria-setsize":k.length,"aria-posinset":P+1}};return O.push(te),D&&Q&&O.push(...p(D,T+1,E)),O},[])}const C=R(()=>{const k=i.items;return l.value.map(T=>T),p(k??[])});function L(k){var T;if(x.value)h.trigger(k);else{const A=((T=y.value)==null?void 0:T.getItems())??[];o(k.key,A)}}function U(k){if(x.value)return;const T=Gt[k.key];vi(()=>{var A;v(T,Se(),(A=y.value)==null?void 0:A.getItems,C.value.map(O=>O.value))})}function j(k){var T;if(k.parentItem!=null&&Array.isArray(I.value)&&i.multiple){const A=C.value.find(O=>k.parentItem!=null&&i.getKey(O.value)===i.getKey(k.parentItem));A!=null&&((T=i.getChildren(A.value))!=null&&T.every(O=>I.value.find(E=>i.getKey(E)===i.getKey(O)))?I.value=[...I.value,A.value]:I.value=I.value.filter(O=>i.getKey(O)!==i.getKey(A.value)),j(A))}}return ki({modelValue:I,selectedKeys:u,onSelect:k=>{var O;const T=E=>i.getKey(E??{})===i.getKey(k),A=i.multiple&&Array.isArray(I.value)?((O=I.value)==null?void 0:O.findIndex(T))!==-1:void 0;if(r(k,T),i.bubbleSelect&&i.multiple&&Array.isArray(I.value)){const E=C.value.find(P=>i.getKey(P.value)===i.getKey(k));E!=null&&j(E)}if(i.propagateSelect&&i.multiple&&Array.isArray(I.value)){const E=fe(i.getChildren(k)??[]);A?I.value=[...I.value].filter(P=>!E.some($=>i.getKey(P??{})===i.getKey($))):I.value=[...I.value,...E]}},expanded:l,onToggle(k){if(!(k&&i.getChildren(k)))return;const T=i.getKey(k)??k;l.value.includes(T)?l.value=l.value.filter(A=>A!==T):l.value.push(T)},getKey:i.getKey,getChildren:i.getChildren,items:d,expandedItems:C,disabled:_,multiple:a,dir:m,propagateSelect:g,bubbleSelect:s,isVirtual:x,virtualKeydownHook:h,handleMultipleReplace:v}),(k,T)=>(S(),K(f(Jt),{ref_key:"rovingFocusGroupRef",ref:y,"as-child":"",orientation:"vertical",dir:f(m)},{default:w(()=>[b(f(ke),{role:"tree",as:k.as,"as-child":k.asChild,"aria-multiselectable":f(a)?!0:void 0,onKeydown:[L,be(pe(U,["shift"]),["up","down"])]},{default:w(()=>[B(k.$slots,"default",{flattenItems:C.value,modelValue:f(I),expanded:f(l)})]),_:3},8,["as","as-child","aria-multiselectable","onKeydown"])]),_:3},8,["dir"]))}}),Si="tree.select",Ti="tree.toggle",Ci=G({inheritAttrs:!1,__name:"TreeItem",props:{value:{},level:{},asChild:{type:Boolean},as:{default:"li"}},emits:["select","toggle"],setup(e,{expose:t,emit:i}){const c=e,d=i,a=xi(),{getItems:_}=Ye(),g=R(()=>!!a.getChildren(c.value)),n=R(()=>{const r=a.getKey(c.value);return a.expanded.value.includes(r)}),s=R(()=>{const r=a.getKey(c.value);return a.selectedKeys.value.includes(r)}),o=R(()=>{if(a.bubbleSelect.value&&g.value&&Array.isArray(a.modelValue.value)){const r=fe(a.getChildren(c.value)||[]);return r.some(v=>a.modelValue.value.find(u=>a.getKey(u)===a.getKey(v)))&&!r.every(v=>a.modelValue.value.find(u=>a.getKey(u)===a.getKey(v)))}else return a.propagateSelect.value&&s.value&&g.value&&Array.isArray(a.modelValue.value)?!fe(a.getChildren(c.value)||[]).every(r=>a.modelValue.value.find(v=>a.getKey(v)===a.getKey(r))):void 0});function m(r){if(g.value)if(n.value){const v=_().map(L=>L.ref),u=Se(),p=v.indexOf(u),C=[...v].slice(p).find(L=>Number(L.getAttribute("data-indent"))===c.level+1);C&&C.focus()}else l(r)}function y(r){if(n.value)l(r);else{const v=_().map(L=>L.ref),u=Se(),p=v.indexOf(u),C=[...v].slice(0,p).reverse().find(L=>Number(L.getAttribute("data-indent"))===c.level-1);C&&C.focus()}}async function x(r){d("select",r),!(r!=null&&r.defaultPrevented)&&a.onSelect(c.value)}async function h(r){d("toggle",r),!(r!=null&&r.defaultPrevented)&&a.onToggle(c.value)}async function I(r){if(!r)return;const v={originalEvent:r,value:c.value,isExpanded:n.value,isSelected:s.value};Ze(Si,x,v)}async function l(r){if(!r)return;const v={originalEvent:r,value:c.value,isExpanded:n.value,isSelected:s.value};Ze(Ti,h,v)}return t({isExpanded:n,isSelected:s,isIndeterminate:o,handleToggle:()=>a.onToggle(c.value),handleSelect:()=>a.onSelect(c.value)}),(r,v)=>(S(),K(f(wi),{"as-child":"",value:r.value,"allow-shift-key":""},{default:w(()=>[b(f(ke),W(r.$attrs,{role:"treeitem",as:r.as,"as-child":r.asChild,"aria-selected":s.value,"aria-expanded":g.value?n.value:void 0,"aria-level":r.level,"data-indent":r.level,"data-selected":s.value?"":void 0,"data-expanded":n.value?"":void 0,onKeydown:[be(pe(I,["self","prevent"]),["enter","space"]),v[0]||(v[0]=be(pe(u=>f(a).dir.value==="ltr"?m(u):y(u),["prevent"]),["right"])),v[1]||(v[1]=be(pe(u=>f(a).dir.value==="ltr"?y(u):m(u),["prevent"]),["left"]))],onClick:v[2]||(v[2]=pe(u=>{I(u),l(u)},["stop"]))}),{default:w(()=>[B(r.$slots,"default",{isExpanded:n.value,isSelected:s.value,isIndeterminate:o.value,handleSelect:()=>f(a).onSelect(r.value),handleToggle:()=>f(a).onToggle(r.value)})]),_:3},16,["as","as-child","aria-selected","aria-expanded","aria-level","data-indent","data-selected","data-expanded","onKeydown"])]),_:3},8,["value"]))}});var Li="__lodash_hash_undefined__";function Ki(e){return this.__data__.set(e,Li),this}function zi(e){return this.__data__.has(e)}function ge(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Ia;++t<i;)this.add(e[t])}ge.prototype.add=ge.prototype.push=Ki,ge.prototype.has=zi;function Ei(e,t){for(var i=-1,c=e==null?0:e.length;++i<c;)if(t(e[i],i,e))return!0;return!1}function Ai(e,t){return e.has(t)}var Oi=1,Vi=2;function Oe(e,t,i,c,d,a){var _=i&Oi,g=e.length,n=t.length;if(g!=n&&!(_&&n>g))return!1;var s=a.get(e),o=a.get(t);if(s&&o)return s==t&&o==e;var m=-1,y=!0,x=i&Vi?new ge:void 0;for(a.set(e,t),a.set(t,e);++m<g;){var h=e[m],I=t[m];if(c)var l=_?c(I,h,m,t,e,a):c(h,I,m,e,t,a);if(l!==void 0){if(l)continue;y=!1;break}if(x){if(!Ei(t,function(r,v){if(!Ai(x,v)&&(h===r||d(h,r,i,c,a)))return x.push(v)})){y=!1;break}}else if(!(h===I||d(h,I,i,c,a))){y=!1;break}}return a.delete(e),a.delete(t),y}function Fi(e){var t=-1,i=Array(e.size);return e.forEach(function(c,d){i[++t]=[d,c]}),i}function Pi(e){var t=-1,i=Array(e.size);return e.forEach(function(c){i[++t]=c}),i}var qi=1,$i=2,ji="[object Boolean]",Di="[object Date]",Ri="[object Error]",Bi="[object Map]",Ui="[object Number]",Mi="[object RegExp]",Ni="[object Set]",Wi="[object String]",Yi="[object Symbol]",Hi="[object ArrayBuffer]",Zi="[object DataView]",Ve=ui?ui.prototype:void 0,xe=Ve?Ve.valueOf:void 0;function Ji(e,t,i,c,d,a,_){switch(i){case Zi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Hi:return!(e.byteLength!=t.byteLength||!a(new oi(e),new oi(t)));case ji:case Di:case Ui:return Sa(+e,+t);case Ri:return e.name==t.name&&e.message==t.message;case Mi:case Wi:return e==t+"";case Bi:var g=Fi;case Ni:var n=c&qi;if(g||(g=Pi),e.size!=t.size&&!n)return!1;var s=_.get(e);if(s)return s==t;c|=$i,_.set(e,t);var o=Oe(g(e),g(t),c,d,a,_);return _.delete(e),o;case Yi:if(xe)return xe.call(e)==xe.call(t)}return!1}var Gi=1,Xi=Object.prototype,Qi=Xi.hasOwnProperty;function et(e,t,i,c,d,a){var _=i&Gi,g=Je(e),n=g.length,s=Je(t),o=s.length;if(n!=o&&!_)return!1;for(var m=n;m--;){var y=g[m];if(!(_?y in t:Qi.call(t,y)))return!1}var x=a.get(e),h=a.get(t);if(x&&h)return x==t&&h==e;var I=!0;a.set(e,t),a.set(t,e);for(var l=_;++m<n;){y=g[m];var r=e[y],v=t[y];if(c)var u=_?c(v,r,y,t,e,a):c(r,v,y,e,t,a);if(!(u===void 0?r===v||d(r,v,i,c,a):u)){I=!1;break}l||(l=y=="constructor")}if(I&&!l){var p=e.constructor,C=t.constructor;p!=C&&"constructor"in e&&"constructor"in t&&!(typeof p=="function"&&p instanceof p&&typeof C=="function"&&C instanceof C)&&(I=!1)}return a.delete(e),a.delete(t),I}var it=1,Fe="[object Arguments]",Pe="[object Array]",he="[object Object]",tt=Object.prototype,qe=tt.hasOwnProperty;function at(e,t,i,c,d,a){var _=ci(e),g=ci(t),n=_?Pe:Ge(e),s=g?Pe:Ge(t);n=n==Fe?he:n,s=s==Fe?he:s;var o=n==he,m=s==he,y=n==s;if(y&&di(e)){if(!di(t))return!1;_=!0,o=!1}if(y&&!o)return a||(a=new Le),_||ka(e)?Oe(e,t,i,c,d,a):Ji(e,t,n,i,c,d,a);if(!(i&it)){var x=o&&qe.call(e,"__wrapped__"),h=m&&qe.call(t,"__wrapped__");if(x||h){var I=x?e.value():e,l=h?t.value():t;return a||(a=new Le),d(I,l,i,c,a)}}return y?(a||(a=new Le),et(e,t,i,c,d,a)):!1}function $e(e,t,i,c,d){return e===t?!0:e==null||t==null||!pi(e)&&!pi(t)?e!==e&&t!==t:at(e,t,i,c,$e,d)}function je(e,t){return $e(e,t)}const ae=wa("volume",()=>{const e=ba(),t=Xt(),i=fi({entries:[]}),c=fi({entries:[]}),d=Z(null);function a(r){return r=r.replace(/[^a-zA-Z0-9._/-]+/g,""),r=r.replace(/\.{2,}/g,"."),r=r.replace(/\/{2,}/g,"/"),r=r.replace(/^[._/ -]+|[._/ -]+$/g,""),r}function _(r){let v=r.split("/").map(a).join("/");v=a(v);const u=i.entries.findIndex(p=>p.relative_path===v);if(u!==-1){if(i.entries[u].hidden===!1)throw new Error(wp.i18n.__(`A file named "${v}" already exists`,"windpress"));i.entries[u].hidden=!1,i.entries[u].content=`/* file: ${v} */

`}else i.entries.push({name:v.split("/").pop()||"",content:`/* file: ${v} */

`,relative_path:`${v}`,handler:"internal"});d.value=`${v}`}function g(r){const v=i.entries.findIndex(u=>u.relative_path===r.relative_path);i.entries[v].content="",i.entries[v].hidden=!0,d.value===r.relative_path&&(d.value=null)}function n(r,v){const u=i.entries.findIndex(L=>L.relative_path===r.relative_path);let p=v.split("/").map(a).join("/");p=a(p);const C=i.entries.findIndex(L=>L.relative_path===p);if(C!==-1){if(i.entries[C].hidden===!1)throw new Error(wp.i18n.__(`A file named "${p}" already exists`,"windpress"));i.entries[C].hidden=!1,i.entries[C].content=i.entries[u].content,i.entries[C].signature&&delete i.entries[C].signature}else{const L=Xe(i.entries[u]);L.relative_path=p,L.name=p.split("/").pop()||"",L.content=i.entries[u].content,L.hidden=!1,L.signature=void 0,i.entries.push(L)}g(r)}function s(r){const v=i.entries.findIndex(u=>u.relative_path===r.relative_path);i.entries[v].content=""}function o(){return i.entries.reduce((r,v)=>(r[`/${v.relative_path}`]=v.content,r),{})}async function m(){return t.add("volume.doPull"),await e.request("/admin/volume/index",{method:"GET"}).then(r=>r.data).then(r=>{const v=r.entries;i.entries=v,x()}).catch(r=>{}).finally(()=>{t.remove("volume.doPull")})}async function y(){return t.add("volume.doPush"),e.request("/admin/volume/store",{method:"POST",data:{volume:{entries:i.entries}}}).then(r=>(x(),{message:r.data.message,success:!0})).catch(r=>{throw new Error(r.response?r.response.data.message:r.message)}).finally(()=>{t.remove("volume.doPush")})}function x(){i.entries.length!==0&&(d.value===null&&(d.value="main.css"),h.value&&(c.entries=Xe(i.entries)))}const h=R(()=>!je(i.entries,c.entries));function I(r){const v=i.entries.find(p=>p.relative_path===r),u=c.entries.find(p=>p.relative_path===r);return!je(v,u)}function l(){i.entries.length===0&&m()}return{data:i,activeViewEntryRelativePath:d,hasChanged:h,addNewEntry:_,getKVEntries:o,doPull:m,doPush:y,entryHasChanged:I,softDeleteEntry:g,resetEntry:s,renameEntry:n,cleanPath:a,initPull:l}}),nt={slots:{root:"relative isolate",item:"",listWithChildren:"ms-4.5 border-s border-default",itemWithChildren:"ps-1.5 -ms-px",link:"relative group w-full flex items-center text-sm before:absolute before:inset-y-px before:inset-x-0 before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2",linkLeadingIcon:"shrink-0",linkLabel:"truncate",linkTrailing:"ms-auto inline-flex gap-1.5 items-center",linkTrailingIcon:"shrink-0 transform transition-transform duration-200 group-data-expanded:rotate-180"},variants:{color:{primary:{link:"focus-visible:before:ring-primary"},secondary:{link:"focus-visible:before:ring-secondary"},success:{link:"focus-visible:before:ring-success"},info:{link:"focus-visible:before:ring-info"},warning:{link:"focus-visible:before:ring-warning"},error:{link:"focus-visible:before:ring-error"},neutral:{link:"focus-visible:before:ring-inverted"}},size:{xs:{link:"px-2 py-1 text-xs gap-1",linkLeadingIcon:"size-4",linkTrailingIcon:"size-4"},sm:{link:"px-2.5 py-1.5 text-xs gap-1.5",linkLeadingIcon:"size-4",linkTrailingIcon:"size-4"},md:{link:"px-2.5 py-1.5 text-sm gap-1.5",linkLeadingIcon:"size-5",linkTrailingIcon:"size-5"},lg:{link:"px-3 py-2 text-sm gap-2",linkLeadingIcon:"size-5",linkTrailingIcon:"size-5"},xl:{link:"px-3 py-2 text-base gap-2",linkLeadingIcon:"size-6",linkTrailingIcon:"size-6"}},selected:{true:{link:"before:bg-elevated"},false:{link:["hover:not-disabled:text-highlighted hover:not-disabled:before:bg-elevated/50","transition-colors before:transition-colors"]}},disabled:{true:{link:"cursor-not-allowed opacity-75"}}},compoundVariants:[{color:"primary",selected:!0,class:{link:"text-primary"}},{color:"secondary",selected:!0,class:{link:"text-secondary"}},{color:"success",selected:!0,class:{link:"text-success"}},{color:"info",selected:!0,class:{link:"text-info"}},{color:"warning",selected:!0,class:{link:"text-warning"}},{color:"error",selected:!0,class:{link:"text-error"}},{color:"neutral",selected:!0,class:{link:"text-highlighted"}}],defaultVariants:{color:"primary",size:"md"}},lt=["disabled"],rt={__name:"Tree",props:{as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},valueKey:{type:null,required:!1,default:"value"},labelKey:{type:null,required:!1,default:"label"},trailingIcon:{type:String,required:!1},expandedIcon:{type:String,required:!1},collapsedIcon:{type:String,required:!1},items:{type:null,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},expanded:{type:Array,required:!1},defaultExpanded:{type:Array,required:!1},selectionBehavior:{type:String,required:!1},propagateSelect:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1}},emits:["update:expanded","update:modelValue"],setup(e,{emit:t}){const i=e,c=t,d=Ke(),a=Ce(),_=Te(ni(i,"as","modelValue","defaultValue","items","multiple","expanded","disabled","propagateSelect"),c),[g,n]=li(),s=R(()=>{var h;return _e({extend:_e(nt),...((h=a.ui)==null?void 0:h.tree)||{}})({color:i.color,size:i.size})});function o(h){return ee(h,i.labelKey)}function m(h){return ee(h,i.valueKey)??ee(h,i.labelKey)}function y(h){var r;const I=h.defaultExpanded?m(h):null,l=((r=h.children)==null?void 0:r.flatMap(v=>y(v)))??[];return[I,...l].filter(Boolean)}const x=R(()=>{var h;return i.defaultExpanded??((h=i.items)==null?void 0:h.flatMap(I=>y(I)))});return(h,I)=>{var l;return S(),M(ie,null,[b(f(g),null,{default:w(({items:r,level:v})=>[(S(!0),M(ie,null,le(r,(u,p)=>{var C,L,U,j;return S(),M("li",{key:`${v}-${p}`,class:F(v>0?s.value.itemWithChildren({class:[(C=i.ui)==null?void 0:C.itemWithChildren,(L=u.ui)==null?void 0:L.itemWithChildren]}):s.value.item({class:[(U=i.ui)==null?void 0:U.item,(j=u.ui)==null?void 0:j.item]}))},[b(f(Ci),{"as-child":"",level:v,value:u,onToggle:u.onToggle,onSelect:u.onSelect},{default:w(({isExpanded:k,isSelected:T})=>{var A,O,E,P,$;return[z("button",{disabled:u.disabled||e.disabled,class:F(s.value.link({class:[(A=i.ui)==null?void 0:A.link,(O=u.ui)==null?void 0:O.link,u.class],selected:T,disabled:u.disabled||e.disabled}))},[B(h.$slots,u.slot||"item",W({ref_for:!0},{index:p,level:v,expanded:k,selected:T},{item:u}),()=>{var D,Q,te,Ne,We;return[B(h.$slots,u.slot?`${u.slot}-leading`:"item-leading",W({ref_for:!0},{index:p,level:v,expanded:k,selected:T},{item:u}),()=>{var se,oe,de,ce,ue;return[u.icon?(S(),K(Y,{key:0,name:u.icon,class:F(s.value.linkLeadingIcon({class:[(se=i.ui)==null?void 0:se.linkLeadingIcon,(oe=u.ui)==null?void 0:oe.linkLeadingIcon]}))},null,8,["name","class"])):(de=u.children)!=null&&de.length?(S(),K(Y,{key:1,name:k?e.expandedIcon??f(a).ui.icons.folderOpen:e.collapsedIcon??f(a).ui.icons.folder,class:F(s.value.linkLeadingIcon({class:[(ce=i.ui)==null?void 0:ce.linkLeadingIcon,(ue=u.ui)==null?void 0:ue.linkLeadingIcon]}))},null,8,["name","class"])):N("",!0)]}),o(u)||d[u.slot?`${u.slot}-label`:"item-label"]?(S(),M("span",{key:0,class:F(s.value.linkLabel({class:[(D=i.ui)==null?void 0:D.linkLabel,(Q=u.ui)==null?void 0:Q.linkLabel]}))},[B(h.$slots,u.slot?`${u.slot}-label`:"item-label",W({ref_for:!0},{item:u,index:p,level:v,expanded:k,selected:T},{item:u}),()=>[J(q(o(u)),1)])],2)):N("",!0),u.trailingIcon||(te=u.children)!=null&&te.length||d[u.slot?`${u.slot}-trailing`:"item-trailing"]?(S(),M("span",{key:1,class:F(s.value.linkTrailing({class:[(Ne=i.ui)==null?void 0:Ne.linkTrailing,(We=u.ui)==null?void 0:We.linkTrailing]}))},[B(h.$slots,u.slot?`${u.slot}-trailing`:"item-trailing",W({ref_for:!0},{item:u,index:p,level:v,expanded:k,selected:T},{item:u}),()=>{var se,oe,de,ce,ue;return[u.trailingIcon?(S(),K(Y,{key:0,name:u.trailingIcon,class:F(s.value.linkTrailingIcon({class:[(se=i.ui)==null?void 0:se.linkTrailingIcon,(oe=u.ui)==null?void 0:oe.linkTrailingIcon]}))},null,8,["name","class"])):(de=u.children)!=null&&de.length?(S(),K(Y,{key:1,name:e.trailingIcon??f(a).ui.icons.chevronDown,class:F(s.value.linkTrailingIcon({class:[(ce=i.ui)==null?void 0:ce.linkTrailingIcon,(ue=u.ui)==null?void 0:ue.linkTrailingIcon]}))},null,8,["name","class"])):N("",!0)]})],2)):N("",!0)]})],10,lt),(E=u.children)!=null&&E.length&&k?(S(),M("ul",{key:0,class:F(s.value.listWithChildren({class:[(P=i.ui)==null?void 0:P.listWithChildren,($=u.ui)==null?void 0:$.listWithChildren]}))},[b(f(n),{items:u.children,level:v+1},null,8,["items","level"])],2)):N("",!0)]}),_:2},1032,["level","value","onToggle","onSelect"])],2)}),128))]),_:3}),b(f(Ii),W(f(_),{class:s.value.root({class:[(l=i.ui)==null?void 0:l.root,i.class]}),"get-key":m,"default-expanded":x.value,"selection-behavior":e.selectionBehavior}),{default:w(()=>[b(f(n),{items:e.items,level:0},null,8,["items"])]),_:1},16,["class","default-expanded","selection-behavior"])],64)}}},De={__name:"ContextMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},checkedIcon:{type:String,required:!1},loadingIcon:{type:String,required:!1},externalIcon:{type:[Boolean,String],required:!1},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const i=e,c=t,d=Ke(),{dir:a}=Qt(),_=Ce(),g=ea(gi(()=>i.portal)),n=Te(ga(i,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),c),s=Qe(d,["default"]),[o,m]=li(),y=R(()=>a.value==="rtl"?_.ui.icons.chevronLeft:_.ui.icons.chevronRight),x=R(()=>{var h;return(h=i.items)!=null&&h.length?ia(i.items)?i.items:[i.items]:[]});return(h,I)=>(S(),M(ie,null,[b(f(o),null,{default:w(({item:l,active:r,index:v})=>[B(h.$slots,l.slot||"item",{item:l,index:v},()=>{var u,p,C,L,U,j;return[B(h.$slots,l.slot?`${l.slot}-leading`:"item-leading",{item:l,active:r,index:v},()=>{var k,T,A,O,E,P,$,D;return[l.loading?(S(),K(Y,{key:0,name:e.loadingIcon||f(_).ui.icons.loading,class:F(e.ui.itemLeadingIcon({class:[(k=e.uiOverride)==null?void 0:k.itemLeadingIcon,(T=l.ui)==null?void 0:T.itemLeadingIcon],color:l==null?void 0:l.color,loading:!0}))},null,8,["name","class"])):l.icon?(S(),K(Y,{key:1,name:l.icon,class:F(e.ui.itemLeadingIcon({class:[(A=e.uiOverride)==null?void 0:A.itemLeadingIcon,(O=l.ui)==null?void 0:O.itemLeadingIcon],color:l==null?void 0:l.color,active:r}))},null,8,["name","class"])):l.avatar?(S(),K(ta,W({key:2,size:((E=l.ui)==null?void 0:E.itemLeadingAvatarSize)||((P=i.uiOverride)==null?void 0:P.itemLeadingAvatarSize)||e.ui.itemLeadingAvatarSize()},l.avatar,{class:e.ui.itemLeadingAvatar({class:[($=e.uiOverride)==null?void 0:$.itemLeadingAvatar,(D=l.ui)==null?void 0:D.itemLeadingAvatar],active:r})}),null,16,["size","class"])):N("",!0)]}),f(ee)(l,i.labelKey)||d[l.slot?`${l.slot}-label`:"item-label"]?(S(),M("span",{key:0,class:F(e.ui.itemLabel({class:[(u=e.uiOverride)==null?void 0:u.itemLabel,(p=l.ui)==null?void 0:p.itemLabel],active:r}))},[B(h.$slots,l.slot?`${l.slot}-label`:"item-label",{item:l,active:r,index:v},()=>[J(q(f(ee)(l,i.labelKey)),1)]),l.target==="_blank"&&e.externalIcon!==!1?(S(),K(Y,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:f(_).ui.icons.external,class:F(e.ui.itemLabelExternalIcon({class:[(C=e.uiOverride)==null?void 0:C.itemLabelExternalIcon,(L=l.ui)==null?void 0:L.itemLabelExternalIcon],color:l==null?void 0:l.color,active:r}))},null,8,["name","class"])):N("",!0)],2)):N("",!0),z("span",{class:F(e.ui.itemTrailing({class:[(U=e.uiOverride)==null?void 0:U.itemTrailing,(j=l.ui)==null?void 0:j.itemTrailing]}))},[B(h.$slots,l.slot?`${l.slot}-trailing`:"item-trailing",{item:l,active:r,index:v},()=>{var k,T,A,O,E,P;return[(k=l.children)!=null&&k.length?(S(),K(Y,{key:0,name:y.value,class:F(e.ui.itemTrailingIcon({class:[(T=e.uiOverride)==null?void 0:T.itemTrailingIcon,(A=l.ui)==null?void 0:A.itemTrailingIcon],color:l==null?void 0:l.color,active:r}))},null,8,["name","class"])):(O=l.kbds)!=null&&O.length?(S(),M("span",{key:1,class:F(e.ui.itemTrailingKbds({class:[(E=e.uiOverride)==null?void 0:E.itemTrailingKbds,(P=l.ui)==null?void 0:P.itemTrailingKbds]}))},[(S(!0),M(ie,null,le(l.kbds,($,D)=>{var Q,te;return S(),K(aa,W({key:D,size:((Q=l.ui)==null?void 0:Q.itemTrailingKbdsSize)||((te=i.uiOverride)==null?void 0:te.itemTrailingKbdsSize)||e.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof $=="string"?{value:$}:$),null,16,["size"])}),128))],2)):N("",!0)]}),b(f(H).ItemIndicator,{"as-child":""},{default:w(()=>{var k,T;return[b(Y,{name:e.checkedIcon||f(_).ui.icons.check,class:F(e.ui.itemTrailingIcon({class:[(k=e.uiOverride)==null?void 0:k.itemTrailingIcon,(T=l.ui)==null?void 0:T.itemTrailingIcon],color:l==null?void 0:l.color}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:3}),b(f(H).Portal,Ee(Ae(f(g))),{default:w(()=>[(S(),K(La(e.sub?f(H).SubContent:f(H).Content),W({class:i.class},f(n)),{default:w(()=>{var l;return[B(h.$slots,"content-top"),z("div",{role:"presentation",class:F(e.ui.viewport({class:(l=i.ui)==null?void 0:l.viewport}))},[(S(!0),M(ie,null,le(x.value,(r,v)=>{var u;return S(),K(f(H).Group,{key:`group-${v}`,class:F(e.ui.group({class:(u=e.uiOverride)==null?void 0:u.group}))},{default:w(()=>[(S(!0),M(ie,null,le(r,(p,C)=>{var L,U,j,k,T,A,O;return S(),M(ie,{key:`group-${v}-${C}`},[p.type==="label"?(S(),K(f(H).Label,{key:0,class:F(e.ui.label({class:[(L=e.uiOverride)==null?void 0:L.label,(U=p.ui)==null?void 0:U.label,p.class]}))},{default:w(()=>[b(f(m),{item:p,index:C},null,8,["item","index"])]),_:2},1032,["class"])):p.type==="separator"?(S(),K(f(H).Separator,{key:1,class:F(e.ui.separator({class:[(j=e.uiOverride)==null?void 0:j.separator,(k=p.ui)==null?void 0:k.separator,p.class]}))},null,8,["class"])):(T=p==null?void 0:p.children)!=null&&T.length?(S(),K(f(H).Sub,{key:2,open:p.open,"default-open":p.defaultOpen},{default:w(()=>{var E,P;return[b(f(H).SubTrigger,{as:"button",type:"button",disabled:p.disabled,"text-value":f(ee)(p,i.labelKey),class:F(e.ui.item({class:[(E=e.uiOverride)==null?void 0:E.item,(P=p.ui)==null?void 0:P.item,p.class],color:p==null?void 0:p.color}))},{default:w(()=>[b(f(m),{item:p,index:C},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),b(De,W({sub:"",class:i.class,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:p.children,"align-offset":-4,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon},{ref_for:!0},p.content),ze({_:2},[le(f(s),($,D)=>({name:D,fn:w(Q=>[B(h.$slots,D,W({ref_for:!0},Q))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]}),_:2},1032,["open","default-open"])):p.type==="checkbox"?(S(),K(f(H).CheckboxItem,{key:3,"model-value":p.checked,disabled:p.disabled,"text-value":f(ee)(p,i.labelKey),class:F(e.ui.item({class:[(A=e.uiOverride)==null?void 0:A.item,(O=p.ui)==null?void 0:O.item,p.class],color:p==null?void 0:p.color})),"onUpdate:modelValue":p.onUpdateChecked,onSelect:p.onSelect},{default:w(()=>[b(f(m),{item:p,index:C},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(S(),K(f(H).Item,{key:4,"as-child":"",disabled:p.disabled,"text-value":f(ee)(p,i.labelKey),onSelect:p.onSelect},{default:w(()=>[b(na,W({ref_for:!0},f(la)(p),{custom:""}),{default:w(({active:E,...P})=>{var $,D;return[b(ra,W({ref_for:!0},P,{class:e.ui.item({class:[($=e.uiOverride)==null?void 0:$.item,(D=p.ui)==null?void 0:D.item,p.class],active:E,color:p==null?void 0:p.color})}),{default:w(()=>[b(f(m),{item:p,active:E,index:C},null,8,["item","active","index"])]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128))],2),B(h.$slots,"default"),B(h.$slots,"content-bottom")]}),_:3},16,["class"]))]),_:3},16)],64))}},st={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-context-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}}],defaultVariants:{size:"md"}},ot={__name:"ContextMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:String,required:!1},loadingIcon:{type:String,required:!1},externalIcon:{type:[Boolean,String],required:!1,default:!0},content:{type:Object,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const i=e,c=t,d=Ke(),a=Ce(),_=Te(ni(i,"modal"),c),g=gi(()=>i.content),n=Qe(d,["default"]),s=R(()=>{var o;return _e({extend:_e(st),...((o=a.ui)==null?void 0:o.contextMenu)||{}})({size:i.size})});return(o,m)=>(S(),K(f(oa),Ee(Ae(f(_))),{default:w(()=>{var y;return[d.default?(S(),K(f(sa),{key:0,"as-child":"",disabled:e.disabled,class:F(i.class)},{default:w(()=>[B(o.$slots,"default")]),_:3},8,["disabled","class"])):N("",!0),b(De,W({class:s.value.content({class:[!d.default&&i.class,(y=i.ui)==null?void 0:y.content]}),ui:s.value,"ui-override":i.ui},g.value,{items:e.items,portal:e.portal,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon}),ze({_:2},[le(f(n),(x,h)=>({name:h,fn:w(I=>[B(o.$slots,h,Ee(Ae(I)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]}),_:3},16))}},dt={class:"overflow-y-auto divide-y divide-(--ui-border)"},ct={class:"flex items-center gap-1.5 w-full"},Re=G({__name:"FileExplorer",emits:["delete","rename","reset"],setup(e,{emit:t}){const i=ae(),c=t,d=Z(void 0);we(d,n=>{i.activeViewEntryRelativePath=(n==null?void 0:n.value)??null});function a(n,s,o){const m=(o?me.relative(o,s.relative_path):s.relative_path).split("/"),y=m.shift();if(m.length===0){n.push({label:y,value:s.relative_path,icon:`vscode-icons:file-type-${s.relative_path==="main.css"?"tailwind":me.extname(s.relative_path).replace(".","")}`,slot:"tree-file",entry:s});return}let x=n.find(h=>h.label===y);x||(x={label:y,children:[],onSelect:h=>{h.preventDefault()}},n.push(x)),a(x.children||(x.children=[]),s,o?me.join(o,y||""):y||"")}const _=R(()=>{let n=[];return i.data.entries.forEach(s=>{s.hidden||a(n,s)}),n.sort((s,o)=>s.children&&!o.children?-1:!s.children&&o.children?1:s.label&&o.label?s.label.localeCompare(o.label):0),n});we(()=>i.activeViewEntryRelativePath,n=>{if(!n){d.value=void 0;return}g(n)});function g(n){const s=o=>{if(o.value===n)return d.value=o,!0;if(o.children){for(const m of o.children)if(s(m))return!0}return!1};for(const o of _.value)if(s(o))break}return mi(()=>{i.activeViewEntryRelativePath&&g(i.activeViewEntryRelativePath)}),(n,s)=>{const o=Y,m=ot,y=rt;return S(),M("div",dt,[b(y,{items:_.value,modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=x=>d.value=x)},{"tree-file":w(({item:x})=>[b(m,{items:[{label:"Reset",icon:"lucide:file-minus-2",disabled:x.entry.relative_path!=="main.css",onSelect:()=>{c("reset",x.entry)}},{label:"Rename",icon:"i-lucide-edit",disabled:x.entry.relative_path==="main.css",onSelect:()=>{c("rename",x.entry)}},{label:"Delete",icon:"i-lucide-trash-2",disabled:x.entry.relative_path==="main.css",onSelect:()=>{c("delete",x.entry)}}]},{default:w(()=>[z("div",ct,[x.icon?(S(),K(o,{key:0,name:x.icon,class:"shrink-0 size-5"},null,8,["name"])):N("",!0),J(" "+q(x.label),1)])]),_:2},1032,["items"])]),_:1},8,["items","modelValue"])])}}}),ut={class:"text-xs opacity-60 font-normal"},pt={class:"flex-1 overflow-y-auto"},mt=G({__name:"FileEditor",props:{entry:{}},emits:["close","save","delete","reset"],setup(e,{emit:t}){const i=ae(),c=da(),d=ri(),a=e,_=t,g={automaticLayout:!0,formatOnType:!1,formatOnPaste:!1,fontSize:14},n=Ka();function s(o,m){m.languages.css.cssDefaults.setOptions(Object.assign(m.languages.css.cssDefaults.options,{data:{useDefaultDataProvider:!0,dataProviders:{tailwindcss:{version:1.1,atDirectives:[{name:"@theme",status:"standard",description:wp.i18n.__("Theme variables are special CSS variables defined using the `@theme` directive that influence which utility classes exist in your project.","windpress"),references:[{name:wp.i18n.__("Docs: Theme variables","windpress"),url:"https://tailwindcss.com/docs/theme"}]},{name:"@plugin",status:"standard",description:wp.i18n.__("Use the `@plugin` directive to load a legacy JavaScript-based plugin.","windpress"),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#plugin-directive"},{name:wp.i18n.__("Docs: Tailwind CSS plugins","windpress"),url:"https://wind.press/docs/configuration/file-main-css#tailwind-css-plugins"}]},{name:"@config",status:"standard",description:wp.i18n.__("Use the `@config` directive to load a legacy JavaScript-based configuration file.","windpress"),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#config-directive"},{name:wp.i18n.__("Docs: Tailwind CSS configuration","windpress"),url:"https://wind.press/docs/configuration/file-main-css#tailwind-css-configuration"}]},{name:"@tailwind",status:"standard",description:wp.i18n.__("Use the `@tailwind` directive to insert Tailwind's `base`, `components`, `utilities` and `variants` styles into your CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://v3.tailwindcss.com/docs/functions-and-directives#tailwind"}]},{name:"@apply",status:"standard",description:wp.i18n.__("Use the `@apply` directive to inline any existing utility classes into your own custom CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#apply-directive"}]},{name:"@utility",status:"standard",description:wp.i18n.__("Use the `@utility` directive to add custom utilities to your project that work with variants like `hover`, `focus` and `lg``.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#utility-directive"}]},{name:"@custom-variant",status:"standard",description:wp.i18n.__("Use the `@custom-variant` directive to add a custom variant in your project.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#custom-variant-directive"}]},{name:"@variant",status:"standard",description:wp.i18n.__("Use the `@variant` directive to apply a Tailwind variant to styles in your CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#variant-directive"}]},{name:"@source",status:"standard",description:wp.i18n.__("Use the `@source` directive to scan additional source files.","windpress"),references:[{name:wp.i18n.__("Docs: Scanning additional Sources","windpress"),url:"https://wind.press/docs/configuration/file-main-css#scanning-additional-sources"}]}]}}}})),n.value=o,m.languages.registerCompletionItemProvider("css",{async provideCompletionItems(y,x){const h=y.getWordUntilPosition(x);let I=[];return Number(c.virtualOptions("general.tailwindcss.version",4).value)===4&&(I=(await Va(await Pa({volume:i.getKVEntries()}))).map(l=>({kind:l.key.includes("--color")?m.languages.CompletionItemKind.Color:m.languages.CompletionItemKind.Variable,label:l.key,insertText:l.key,detail:l.value,range:{startLineNumber:x.lineNumber,startColumn:h.startColumn,endLineNumber:x.lineNumber,endColumn:h.endColumn},sortText:Fa(l.index)}))),{suggestions:I}}}),m.editor.addEditorAction({id:"save",label:wp.i18n.__("Save","windpress"),keybindings:[m.KeyMod.CtrlCmd|m.KeyCode.KeyS],run:()=>{_("save")}})}return(o,m)=>{const y=ne,x=ei,h=Y,I=ca,l=ai,r=za("vue-monaco-editor"),v=ti;return S(),K(v,{id:"explorer-2",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:w(()=>{var u;return[b(l,{title:(u=o.entry)==null?void 0:u.relative_path,toggle:!1,ui:{title:"text-sm"}},{leading:w(()=>[b(x,{text:o.i18n.__("Close","windpress")},{default:w(()=>[b(y,{icon:"i-lucide-x",color:"neutral",variant:"ghost",class:"-ms-1.5",onClick:m[0]||(m[0]=p=>_("close"))})]),_:1},8,["text"])]),title:w(()=>{var p,C,L,U,j;return[b(h,{name:`vscode-icons:file-type-${((p=o.entry)==null?void 0:p.relative_path)==="main.css"?"tailwind":f(me).extname(((C=o.entry)==null?void 0:C.relative_path)??"").replace(".","")}`,class:"size-5"},null,8,["name"]),J(" "+q((L=o.entry)==null?void 0:L.relative_path)+" ",1),a.entry.readonly?(S(),K(I,{key:0,label:o.i18n.__("read-only","windpress"),color:"warning",variant:"outline"},null,8,["label"])):N("",!0),(U=o.entry)!=null&&U.path_on_disk?(S(),K(x,{key:1,text:`${o.i18n.__("Path on disk","windpress")}: ${(j=o.entry)==null?void 0:j.path_on_disk}`},{default:w(()=>{var k;return[z("span",ut,[m[5]||(m[5]=J(" [ ")),b(h,{name:"i-lucide-hard-drive",class:"inline-block align-middle me-1"}),J(" "+q((k=o.entry)==null?void 0:k.path_on_disk)+" ] ",1)])]}),_:1},8,["text"])):N("",!0)]}),right:w(()=>{var p,C,L,U,j,k;return[((p=o.entry)==null?void 0:p.relative_path)!=="main.css"&&!(Number(f(c).virtualOptions("general.tailwindcss.version",4).value)===3&&(((C=o.entry)==null?void 0:C.relative_path)==="tailwind.config.js"||((L=o.entry)==null?void 0:L.relative_path)==="wizard.js"))?(S(),K(x,{key:0,text:o.i18n.__("Delete","windpress")},{default:w(()=>[b(y,{icon:"i-lucide-trash",color:"neutral",variant:"ghost",onClick:m[1]||(m[1]=T=>_("delete",o.entry))})]),_:1},8,["text"])):N("",!0),((U=o.entry)==null?void 0:U.relative_path)==="main.css"||Number(f(c).virtualOptions("general.tailwindcss.version",4).value)===3&&(((j=o.entry)==null?void 0:j.relative_path)==="tailwind.config.js"||((k=o.entry)==null?void 0:k.relative_path)==="wizard.js")?(S(),K(x,{key:1,text:o.i18n.__("Reset to default","windpress")},{default:w(()=>[b(y,{icon:"lucide:file-minus-2",color:"neutral",variant:"ghost",onClick:m[2]||(m[2]=T=>_("reset",o.entry))})]),_:1},8,["text"])):N("",!0),b(x,{text:o.i18n.__("Save","windpress")},{default:w(()=>[b(y,{icon:"i-lucide-save",color:"primary",variant:"subtle",onClick:m[3]||(m[3]=T=>_("save"))})]),_:1},8,["text"])]}),_:1},8,["title"]),z("div",pt,[b(r,{value:a.entry.content,"onUpdate:value":m[4]||(m[4]=p=>a.entry.content=p),language:a.entry.relative_path.endsWith(".css")?"css":"javascript",saveViewState:!1,options:{...g,readOnly:a.entry.readonly},onMount:s,theme:f(d)==="dark"?"vs-dark":"vs"},null,8,["value","language","options","theme"])])]}),_:1})}}}),vt={class:"flex"},ft=["innerHTML"],gt={class:"flex gap-2"},Be=G({__name:"ConfirmFileActionModal",props:{filePath:{},fileContent:{},actionYes:{},actionNo:{}},emits:["close"],setup(e,{emit:t}){const i=e,c=ri();let d=Z(null);(async()=>d.value=await ja({themes:[ve(()=>import("./dark-plus-C3mMm8J8.min.js"),[],import.meta.url),ve(()=>import("./light-plus-B7mTdjB0.min.js"),[],import.meta.url)],langs:[ve(()=>import("./css-DPfMkruS.min.js"),[],import.meta.url),ve(()=>import("./javascript-BMMyXqK5.min.js"),[],import.meta.url)],engine:Da(ve(()=>import("./wasm-CG6Dc4jp.min.js"),[],import.meta.url))}))();const a=ha(async()=>{if(!i.fileContent||!d.value)return;const g=me.extname(i.filePath).replace(".","");return d.value.codeToHtml(i.fileContent,{lang:g==="css"?"css":"javascript",theme:c.value==="dark"?"dark-plus":"light-plus"})}),_=t;return(g,n)=>{const s=ne,o=ye;return S(),K(o,{close:{onClick:()=>_("close",!1)}},ze({title:w(()=>[J(q(g.i18n.sprintf(g.i18n.__('Are you sure you want to %s the "%s" file?',"windpress"),g.actionYes,g.filePath)),1)]),footer:w(()=>[z("div",gt,[b(s,{color:"neutral",variant:"soft",label:g.i18n.__("cancel","windpress"),onClick:n[0]||(n[0]=m=>_("close",!1)),class:"capitalize"},null,8,["label"]),b(s,{color:"error",variant:"soft",label:g.actionYes,onClick:n[1]||(n[1]=m=>_("close",!0)),class:"capitalize"},null,8,["label"])])]),_:2},[g.fileContent?{name:"body",fn:w(()=>[(S(),K(Ea,null,{default:w(()=>[z("div",vt,[z("div",{innerHTML:f(a),class:"flex [&>pre]:p-4 [&>pre]:mr-6"},null,8,ft)])]),_:1}))]),key:"0"}:void 0]),1032,["close"])}}}),ht={class:"flex flex-col gap-4 text-(--ui-text)"},_t={class:"font-bold uppercase my-2"},yt={class:"w-full"},wt={class:"font-semibold w-1/3"},bt={class:""},xt={class:"font-semibold w-1/5"},kt={class:""},It={class:"font-semibold w-1/5"},St={class:""},Tt={class:"font-semibold w-1/5"},Ct={class:""},Lt={class:"flex gap-2"},Kt=G({__name:"ConfirmVolumeImportModal",props:{data:{}},emits:["close"],setup(e,{emit:t}){const i=e,c=t;return(d,a)=>{const _=ne,g=ye;return S(),K(g,{close:{onClick:()=>c("close",!1)}},{title:w(()=>[J(q(d.i18n.__("Import SFS volume","windpress")),1)]),body:w(()=>[z("div",ht,[z("div",null,[z("div",_t,q(d.i18n.__("File info","windpress")),1),z("table",yt,[z("tbody",null,[z("tr",null,[z("td",wt,q(d.i18n.__("WindPress version","windpress")),1),a[2]||(a[2]=z("td",{class:""},":",-1)),z("td",bt,q(i.data._version),1)]),z("tr",null,[z("td",xt,q(d.i18n.__("WP Version","windpress")),1),a[3]||(a[3]=z("td",{class:""},":",-1)),z("td",kt,q(i.data._wp_version),1)]),z("tr",null,[z("td",It,q(d.i18n.__("Exported on","windpress")),1),a[4]||(a[4]=z("td",{class:""},":",-1)),z("td",St,q(f(hi)(i.data._timestamp).format("YYYY-MM-DD HH:mm:ss")),1)]),z("tr",null,[z("td",Tt,q(d.i18n.__("Entries","windpress")),1),a[5]||(a[5]=z("td",{class:""},":",-1)),z("td",Ct,q(i.data.entries.length),1)])])])]),J(" "+q(d.i18n.__("This will overwrite all existing files. Are you sure you want to continue?","windpress")),1)])]),footer:w(()=>[z("div",Lt,[b(_,{color:"neutral",variant:"soft",label:d.i18n.__("cancel","windpress"),onClick:a[0]||(a[0]=n=>c("close",!1)),class:"capitalize"},null,8,["label"]),b(_,{color:"warning",variant:"soft",label:d.i18n.__("Yes, continue","windpress"),onClick:a[1]||(a[1]=n=>c("close",!0)),class:"capitalize"},null,8,["label"])])]),_:1},8,["close"])}}}),zt={class:"flex gap-2"},Et=G({__name:"NewFileFormModal",emits:["close"],setup(e,{emit:t}){const i=ae(),c=t,d=Z(""),a=Z(!1);we(()=>d.value,()=>{a.value=!1});function _(){if(a.value=!1,!d.value){a.value=wp.i18n.__("Filename is required","windpress");return}if(!d.value.endsWith(".css")&&!d.value.endsWith(".js")){a.value=wp.i18n.__("File extension must be .css or .js","windpress");return}if(!/^[a-zA-Z0-9_.\-\/]+$/.test(d.value)){a.value=wp.i18n.__("Only alphanumeric, dash, underscore, forward slash, and dot are allowed","windpress");return}if(i.data.entries.find(g=>g.relative_path===`${d.value}`&&g.hidden!==!0)){a.value=wp.i18n.sprintf(wp.i18n.__('A file named "%s" already exists',"windpress"),d.value);return}c("close",d.value)}return(g,n)=>{const s=ii,o=_i,m=ne,y=ye;return S(),K(y,{close:{onClick:()=>c("close")}},{title:w(()=>[J(q(g.i18n.__("Create New File","windpress")),1)]),body:w(()=>[b(o,{label:"Filename",required:"",description:g.i18n.__("Filename may include a path. (css or js)","windpress"),error:a.value},{default:w(()=>[b(s,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=x=>d.value=x),placeholder:"theme/color.css",class:"w-full"},null,8,["modelValue"])]),_:1},8,["description","error"])]),footer:w(()=>[z("div",zt,[b(m,{color:"neutral",variant:"soft",label:g.i18n.__("cancel","windpress"),onClick:n[1]||(n[1]=x=>c("close")),class:"capitalize"},null,8,["label"]),b(m,{color:"primary",variant:"soft",label:g.i18n.__("Submit","windpress"),onClick:_,class:"capitalize"},null,8,["label"])])]),_:1},8,["close"])}}}),At={class:"flex gap-2"},Ot=G({__name:"RenameFileFormModal",props:{filePath:{}},emits:["close"],setup(e,{emit:t}){const i=ae(),c=t,d=e,a=Z(d.filePath),_=Z(!1);we(()=>a.value,()=>{_.value=!1});function g(){if(_.value=!1,!a.value){_.value=wp.i18n.__("Filename is required","windpress");return}if(!a.value.endsWith(".css")&&!a.value.endsWith(".js")){_.value=wp.i18n.__("File extension must be .css or .js","windpress");return}if(!/^[a-zA-Z0-9_.\-\/]+$/.test(a.value)){_.value=wp.i18n.__("Only alphanumeric, dash, underscore, forward slash, and dot are allowed","windpress");return}if(i.data.entries.find(n=>n.relative_path===`${a.value}`&&n.hidden!==!0)){_.value=wp.i18n.sprintf(wp.i18n.__('A file named "%s" already exists',"windpress"),a.value);return}c("close",a.value)}return(n,s)=>{const o=ii,m=_i,y=ne,x=ye;return S(),K(x,{close:{onClick:()=>c("close")}},{title:w(()=>[J(q(n.i18n.__("Rename File","windpress")),1)]),body:w(()=>[b(m,{label:"Old Filename",description:n.i18n.__("The previous filename","windpress"),class:"mb-2"},{default:w(()=>[b(o,{value:d.filePath,disabled:!0,class:"w-full"},null,8,["value"])]),_:1},8,["description"]),b(m,{label:"New Filename",required:"",description:n.i18n.__("Filename may include a path. (css or js)","windpress"),error:_.value},{default:w(()=>[b(o,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=h=>a.value=h),placeholder:"theme/color.css",class:"w-full"},null,8,["modelValue"])]),_:1},8,["description","error"])]),footer:w(()=>[z("div",At,[b(y,{color:"neutral",variant:"soft",label:n.i18n.__("cancel","windpress"),onClick:s[1]||(s[1]=h=>c("close")),class:"capitalize"},null,8,["label"]),b(y,{color:"primary",variant:"soft",label:n.i18n.__("Submit","windpress"),onClick:g,class:"capitalize"},null,8,["label"])])]),_:1},8,["close"])}}}),X=ae(),V=pa(),re=ua();async function Vt(e){if(e.readonly){V.add({title:wp.i18n.__("Error","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is read-only and not deletable',"windpress"),e.relative_path),color:"error",icon:"i-lucide-trash"});return}if(e.relative_path==="main.css"){V.add({title:wp.i18n.__("Error","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is required for the WindPress to work and not deletable',"windpress"),e.relative_path),color:"error",icon:"i-lucide-trash"});return}if(!await re.create(Be,{destroyOnClose:!0,props:{filePath:e.relative_path,fileContent:e.content,actionYes:wp.i18n.__("delete","windpress")}}).open().result){V.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is not deleted',"windpress"),e.relative_path),color:"info",icon:"i-lucide-trash"});return}X.softDeleteEntry(e),V.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" deleted',"windpress"),e.relative_path),color:"success",icon:"i-lucide-trash"})}async function Ft(e){if(!await re.create(Be,{destroyOnClose:!0,props:{filePath:e.relative_path,fileContent:e.content,actionYes:wp.i18n.__("reset","windpress")}}).open().result){V.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is not reset',"windpress"),e.relative_path),color:"info",icon:"lucide:file-minus-2"});return}X.resetEntry(e),V.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" reset',"windpress"),e.relative_path),color:"success",icon:"lucide:file-minus-2"}),Ue().then(()=>{X.doPull()})}async function Ue(){const e={title:wp.i18n.__("Saving...","windpress"),description:wp.i18n.__("Please wait while we save your changes.","windpress"),duration:0,icon:"lucide:loader-circle",close:!1,color:"neutral",ui:{icon:"animate-spin"}};return V.toasts.value.find(t=>t.id==="file-editor.doSave")?V.update("file-editor.doSave",{...e}):V.add({id:"file-editor.doSave",...e}),X.doPush().then(()=>{V.update("file-editor.doSave",{title:wp.i18n.__("Saved","windpress"),description:wp.i18n.__("Your changes have been saved.","windpress"),icon:"i-lucide-save",color:"success",duration:void 0,close:!0,ui:{icon:void 0}})}).catch(t=>{V.update("file-editor.doSave",{title:wp.i18n.__("Error","windpress"),description:wp.i18n.__("An error occurred while saving your changes.","windpress"),icon:"i-lucide-save",color:"error",duration:void 0,close:!0,ui:{icon:void 0}})}).finally(()=>{const t=new BroadcastChannel("windpress");["windpress/observer","windpress/intellisense"].forEach(i=>{t.postMessage({source:"windpress/dashboard",target:i,task:"windpress.code-editor.saved",payload:{volume:qa(X.getKVEntries())}})}),t.close()})}function Pt(){const e={entries:X.data.entries,_windpress:!0,_version:window.windpress._version,_wp_version:window.windpress._wp_version,_timestamp:new Date().getTime(),_uid:$a(),_type:"sfs"},t=si.compressToUint8Array(JSON.stringify(e)),i=new Blob([t],{type:"application/octet-stream"}),c=URL.createObjectURL(i),d=document.createElement("a");d.href=c,d.download=`sfs-${hi().format("YYYYMMDDHHmmss")}.windpress`,d.click(),URL.revokeObjectURL(c),V.add({title:wp.i18n.__("Exported","windpress"),description:wp.i18n.__("SFS volume data exported","windpress"),color:"success",icon:"i-lucide-download"})}async function qt(e){const t=e.target;if(!t||!t.files||t.files.length===0)return;const i=t.files[0];if(!i)return;if(!i.name.endsWith(".windpress")){V.add({title:wp.i18n.__("SFS Import","windpress"),description:wp.i18n.__("Invalid file format","windpress"),color:"error",icon:"i-lucide-upload"});return}let c;try{if(c=JSON.parse(si.decompressFromUint8Array(new Uint8Array(await i.arrayBuffer()))||"{}"),!c._windpress||c._type!=="sfs")throw new Error(wp.i18n.__("File is not a valid WindPress file","windpress"))}catch(d){V.add({title:wp.i18n.__("SFS Import","windpress"),description:d instanceof Error?d.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-upload"});return}if(!await re.create(Kt,{destroyOnClose:!0,props:{data:c}}).open().result){V.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.__("SFS import canceled","windpress"),color:"info",icon:"i-lucide-upload"}),t.value="";return}V.add({id:"file-import.doImport",title:wp.i18n.__("Importing...","windpress"),description:wp.i18n.__("Please wait while we import the data.","windpress"),icon:"lucide:loader-circle",close:!1,duration:0,color:"neutral",ui:{icon:"animate-spin"}}),await new Promise(d=>setTimeout(d,500));try{const d=c.entries.map(a=>{if(a.signature&&a.handler==="internal"){const{signature:_,...g}=a;return g}return a});X.data.entries=d,V.update("file-import.doImport",{title:wp.i18n.__("Success","windpress"),description:wp.i18n.__("SFS data imported. Remember to save the changes.","windpress"),color:"success",icon:"i-lucide-upload",duration:void 0,close:!0,ui:{icon:void 0}}),t.value=""}catch(d){V.update("file-import.doImport",{title:wp.i18n.__("Error","windpress"),description:d instanceof Error?d.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-upload",close:!0,duration:void 0,ui:{icon:void 0}}),t.value=""}}async function $t(){const e=await re.create(Et,{destroyOnClose:!0}).open().result;if(!e){V.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.__("New file creation canceled","windpress"),color:"info",icon:"i-lucide-plus"});return}try{X.addNewEntry(e),V.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" created',"windpress"),e),color:"success",icon:"i-lucide-plus"})}catch(t){V.add({title:wp.i18n.__("Error","windpress"),description:t instanceof Error?t.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-plus"})}}async function jt(e){const t=await re.create(Ot,{destroyOnClose:!0,props:{filePath:e.relative_path}}).open().result;if(!t){V.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.__("File rename canceled","windpress"),color:"info",icon:"i-lucide-edit"});return}try{X.renameEntry(e,t),V.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" renamed to "%s"',"windpress"),e.relative_path,t),color:"success",icon:"i-lucide-edit"})}catch(i){V.add({title:wp.i18n.__("Error","windpress"),description:i instanceof Error?i.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-edit"})}}function Dt(){return{deleteFile:Vt,resetFile:Ft,save:Ue,exportVolume:Pt,importVolume:qt,addNewFile:$t,renameFile:jt}}let Me;Me={key:1,class:"hidden lg:flex flex-1 items-center justify-center"},yi=G({__name:"File",setup(e){const t=ae(),i=Dt(),c=Z(null),d=R({get(){return!!t.activeViewEntryRelativePath},set(g){g||(t.activeViewEntryRelativePath=null)}}),a=R(()=>t.data.entries.find(n=>n.relative_path===t.activeViewEntryRelativePath)||(console.error(wp.i18n.__("Entry not found: ","windpress"),t.activeViewEntryRelativePath),t.activeViewEntryRelativePath="main.css",t.data.entries.find(n=>n.relative_path===t.activeViewEntryRelativePath))),_=_a(ya).smaller("lg");return(g,n)=>{const s=fa,o=ne,m=ei,y=ai,x=ti,h=Y,I=ma;return S(),M(ie,null,[b(x,{id:"explorer-1","default-size":25,"min-size":20,"max-size":30,resizable:"",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:w(()=>[b(y,{title:g.i18n.__("Explorer","windpress"),class:"text-sm"},{leading:w(()=>[b(s)]),right:w(()=>[b(m,{"delay-duration":0,text:g.i18n.__("Add new file","windpress")},{default:w(()=>[b(o,{color:"primary",variant:"subtle",icon:"i-lucide-plus",onClick:n[0]||(n[0]=l=>f(i).addNewFile())})]),_:1},8,["text"]),b(m,{"delay-duration":0,text:g.i18n.__("Export SFS volume","windpress")},{default:w(()=>[b(o,{color:"neutral",variant:"outline",icon:"i-lucide-download",onClick:n[1]||(n[1]=l=>f(i).exportVolume())})]),_:1},8,["text"]),b(m,{"delay-duration":0,text:g.i18n.__("Import SFS volume","windpress")},{default:w(()=>[b(o,{color:"neutral",variant:"outline",icon:"i-lucide-upload",onClick:n[2]||(n[2]=l=>{var r;return(r=c.value)==null?void 0:r.click()})}),z("input",{ref_key:"importFileField",ref:c,type:"file",onChange:n[3]||(n[3]=(...l)=>f(i).importVolume&&f(i).importVolume(...l)),style:{display:"none"},accept:".windpress"},null,544)]),_:1},8,["text"])]),_:1},8,["title"]),b(Re,{onRename:n[4]||(n[4]=l=>f(i).renameFile(l)),onDelete:n[5]||(n[5]=l=>f(i).deleteFile(l)),onReset:n[6]||(n[6]=l=>f(i).resetFile(l))})]),_:1}),f(t).activeViewEntryRelativePath?(S(),K(mt,{key:0,onClose:n[7]||(n[7]=l=>f(t).activeViewEntryRelativePath=null),entry:a.value,onDelete:n[8]||(n[8]=l=>f(i).deleteFile(l)),onSave:n[9]||(n[9]=l=>f(i).save()),onReset:n[10]||(n[10]=l=>f(i).resetFile(l))},null,8,["entry"])):(S(),M("div",Me,[b(h,{name:"lucide:file-pen",class:"size-32 text-(--ui-text-dimmed)"})])),f(_)?(S(),K(I,{key:2,open:d.value,"onUpdate:open":n[11]||(n[11]=l=>d.value=l)},{content:w(()=>[b(Re)]),_:1},8,["open"])):N("",!0)],64)}}})});export{Ra as __tla,yi as default};
